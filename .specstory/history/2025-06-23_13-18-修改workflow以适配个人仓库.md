<!-- Generated by SpecStory -->

# ä¿®æ”¹workflowä»¥é€‚é…ä¸ªäººä»“åº“ (2025-06-23 21:18:14)

_**User**_

å¸®æˆ‘ä¿®æ”¹workflow,é€‚é…æˆ‘è‡ªå·±çš„ä»“åº“(æˆ‘cloneä¸‹æ¥ç„¶åpushåˆ°æˆ‘è‡ªå·±çš„ä»“åº“äº†)

---

_**Assistant**_



---

æˆ‘æ¥å¸®ä½ æŸ¥çœ‹å’Œä¿®æ”¹workflowæ–‡ä»¶ä»¥é€‚é…ä½ è‡ªå·±çš„ä»“åº“ã€‚è®©æˆ‘å…ˆæ¢ç´¢ä¸€ä¸‹é¡¹ç›®ä¸­çš„workflowé…ç½®ã€‚

---

<details>
            <summary>Listed current directory â€¢ **27** results</summary>
        
| Name |
|-------|
| ğŸ“ `.git` |
| ğŸ“ `.specstory` |
| ğŸ“ `screenshots` |
| ğŸ“„ `settings.gradle.kts` |
| ğŸ“ `test-utils` |
| ğŸ“„ `uninstallAndCleanUp.sh` |
| ğŸ“„ `versions.properties` |
| ğŸ“„ `proxy-toggle.apk` |
| ğŸ“ `repository` |
| ğŸ“ `gradle` |
| ğŸ“„ `gradle.properties` |
| ğŸ“„ `gradlew` |
| ğŸ“„ `gradlew.bat` |
| ğŸ“„ `installAndGrantPermission.sh` |
| ğŸ“„ `lint.xml` |
| ğŸ“„ `proguard-rules.pro` |
| ğŸ“ `feature` |
| ğŸ“„ `detekt.yml` |
| ğŸ“ `core` |
| ğŸ“„ `build.gradle.kts` |
| ğŸ“„ `codecov.yaml` |
| ğŸ“ `build-logic` |
| ğŸ“ `app` |
| ğŸ“ `.github` |
| ğŸ“„ `.gitignore` |
| ğŸ“„ `LICENSE.md` |
| ğŸ“„ `README.md` |

</details>

---

çœ‹åˆ°æœ‰`.github`ç›®å½•ï¼Œè¿™é‡Œåº”è¯¥åŒ…å«workflowæ–‡ä»¶ã€‚è®©æˆ‘æŸ¥çœ‹ä¸€ä¸‹ï¼š

---

<details>
            <summary>Listed directory .github â€¢ **1** results</summary>
        
| Name |
|-------|
| ğŸ“ `workflows` |

</details>

---

<details>
            <summary>Listed directory .github/workflows â€¢ **1** results</summary>
        
| Name |
|-------|
| ğŸ“„ `android.yml` |

</details>

---

ç°åœ¨è®©æˆ‘æŸ¥çœ‹ç°æœ‰çš„workflowæ–‡ä»¶å†…å®¹ï¼š

---

Read file: .github/workflows/android.yml

---

ç°åœ¨æˆ‘çœ‹åˆ°äº†ç°æœ‰çš„workflowé…ç½®ã€‚è¿™ä¸ªworkflowåŒ…å«PRæ£€æŸ¥ã€å•å…ƒæµ‹è¯•å’Œä»£ç è¦†ç›–ç‡ä¸Šä¼ åˆ°Codecovã€‚è®©æˆ‘ä¸ºä½ ä¿®æ”¹è¿™ä¸ªworkflowä»¥é€‚é…ä½ è‡ªå·±çš„ä»“åº“ï¼š

---

Cancelled

---

è®©æˆ‘é‡æ–°ä¸ºä½ ä¿®æ”¹workflowæ–‡ä»¶ã€‚ä¸»è¦çš„ä¿®æ”¹åŒ…æ‹¬ï¼š

1. æ›´æ–°GitHub Actionsç‰ˆæœ¬åˆ°æœ€æ–°
2. ç§»é™¤æˆ–ä¿®æ”¹Codecovç›¸å…³é…ç½®ï¼ˆå› ä¸ºä½ å¯èƒ½æ²¡æœ‰è®¾ç½®ç›¸åº”çš„tokenï¼‰
3. å‡çº§Javaç‰ˆæœ¬åˆ°æ›´ç°ä»£çš„ç‰ˆæœ¬

---



---

è®©æˆ‘ä½¿ç”¨search_replaceå·¥å…·æ¥æ›´æ–°è¿™ä¸ªæ–‡ä»¶ï¼š

---



---



---

ç°åœ¨è®©æˆ‘æ£€æŸ¥ä¸€ä¸‹`codecov.yaml`é…ç½®æ–‡ä»¶ï¼Œå› ä¸ºä½ å¯èƒ½ä¸éœ€è¦å®ƒï¼š

---

Read file: codecov.yaml

---



---

å¾ˆå¥½ï¼æˆ‘å·²ç»æˆåŠŸä¸ºä½ ä¿®æ”¹äº†workflowæ–‡ä»¶ã€‚ç°åœ¨è®©æˆ‘ä¸ºä½ æ€»ç»“ä¸€ä¸‹åšäº†å“ªäº›ä¿®æ”¹ï¼š

## ğŸ“‹ Workflowä¿®æ”¹æ€»ç»“

### ğŸ”„ ä¸»è¦ä¿®æ”¹å†…å®¹ï¼š

1. **æ›´æ–°äº†GitHub Actionsç‰ˆæœ¬**ï¼š
   - `actions/checkout@v2` â†’ `actions/checkout@v4`
   - `actions/setup-java@v1` â†’ `actions/setup-java@v4`
   - `codecov/codecov-action@v1` â†’ æ³¨é‡Šæ‰äº†ï¼ˆé¿å…tokené—®é¢˜ï¼‰

2. **å‡çº§äº†Javaç‰ˆæœ¬**ï¼š
   - `JDK 11` â†’ `JDK 17` (ä½¿ç”¨Temurinå‘è¡Œç‰ˆ)

3. **å¢åŠ äº†åˆ†æ”¯æ”¯æŒ**ï¼š
   - ç°åœ¨æ”¯æŒ `main` å’Œ `develop` åˆ†æ”¯

4. **å¢å¼ºäº†æ„å»ºæµç¨‹**ï¼š
   - æ·»åŠ äº†Gradleç¼“å­˜ä»¥æé«˜æ„å»ºé€Ÿåº¦
   - æ·»åŠ äº†gradlewæ‰§è¡Œæƒé™è®¾ç½®
   - åˆ†ç¦»äº†æµ‹è¯•å’ŒæŠ¥å‘Šç”Ÿæˆæ­¥éª¤
   - å¢åŠ äº†APKæ„å»ºå’Œä¸Šä¼ åŠŸèƒ½

5. **ä¼˜åŒ–äº†é”™è¯¯å¤„ç†**ï¼š
   - æµ‹è¯•æŠ¥å‘Šç”Ÿæˆå…è®¸å¤±è´¥ç»§ç»­æ‰§è¡Œ

6. **ç§»é™¤äº†Codecovä¾èµ–**ï¼š
   - å°†Codecovç›¸å…³é…ç½®æ³¨é‡Šæ‰ï¼Œé¿å…éœ€è¦è®¾ç½®token

### ğŸ¯ ç°åœ¨çš„workflowåŠŸèƒ½ï¼š

- âœ… ä»£ç æ£€å‡º
- âœ… Javaç¯å¢ƒè®¾ç½®
- âœ… Gradleç¼“å­˜
- âœ… è¿è¡Œå•å…ƒæµ‹è¯•
- âœ… ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
- âœ… æ„å»ºDebug APK
- âœ… ä¸Šä¼ APKä½œä¸ºæ„å»ºäº§ç‰©

å¦‚æœä½ ä»¥åéœ€è¦ä½¿ç”¨Codecovï¼Œåªéœ€è¦ï¼š
1. åœ¨GitHubä»“åº“è®¾ç½®ä¸­æ·»åŠ `CODECOV_TOKEN` secret
2. å–æ¶ˆæ³¨é‡Šworkflowæ–‡ä»¶æœ«å°¾çš„Codecovæ­¥éª¤

è¿™ä¸ªä¿®æ”¹åçš„workflowç°åœ¨å®Œå…¨é€‚é…ä½ è‡ªå·±çš„ä»“åº“ï¼Œä¸ä¾èµ–ä»»ä½•å¤–éƒ¨æœåŠ¡é…ç½®ï¼

---

_**User**_

ç„¶åä½¿ç”¨gh-actionåˆ›å»ºgithub releaseå¹¶ä¸Šä¼ ,å¹¶ä¸”åˆ›å»ºrelaseåªé’ˆå¯¹å¸¦tagçš„vç‰ˆæœ¬

---

_**Assistant**_



---

æˆ‘æ¥å¸®ä½ æ·»åŠ GitHub releaseåŠŸèƒ½ï¼Œè®©workflowåœ¨æ¨é€å¸¦æœ‰"v"å‰ç¼€çš„tagæ—¶è‡ªåŠ¨åˆ›å»ºreleaseå¹¶ä¸Šä¼ APKã€‚

---

Read file: .github/workflows/android.yml

---

ç°åœ¨æˆ‘æ¥ä¿®æ”¹workflowæ–‡ä»¶ï¼Œæ·»åŠ tagè§¦å‘å’ŒreleaseåŠŸèƒ½ï¼š

---



---

ç°åœ¨æˆ‘è¦åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä¸€ä¸ªæ–°çš„release jobï¼š

---



---

ç°åœ¨è®©æˆ‘æ£€æŸ¥ä¸€ä¸‹ä¿®æ”¹åçš„å®Œæ•´æ–‡ä»¶ï¼š

---

Read file: .github/workflows/android.yml

---

å¤ªå¥½äº†ï¼æˆ‘å·²ç»æˆåŠŸä¸ºä½ çš„workflowæ·»åŠ äº†GitHub ReleaseåŠŸèƒ½ã€‚è®©æˆ‘ä¸ºä½ æ€»ç»“ä¸€ä¸‹æ–°å¢çš„åŠŸèƒ½ï¼š

## ğŸ‰ GitHub ReleaseåŠŸèƒ½æ·»åŠ æˆåŠŸï¼

### ğŸ”§ æ–°å¢åŠŸèƒ½ï¼š

1. **Tagè§¦å‘æœºåˆ¶**ï¼š
   - ç°åœ¨workflowä¼šåœ¨æ¨é€ä»¥ `v` å¼€å¤´çš„tagæ—¶è‡ªåŠ¨è§¦å‘
   - ä¾‹å¦‚ï¼š`v1.0.0`, `v2.1.3`, `v1.0.0-beta` ç­‰

2. **è‡ªåŠ¨Releaseåˆ›å»º**ï¼š
   - åˆ›å»ºæ–°çš„ `release` jobï¼Œåªåœ¨tagæ¨é€æ—¶è¿è¡Œ
   - ä¾èµ–äº `build-and-test` jobå®Œæˆåæ‰æ‰§è¡Œ

3. **Release APKæ„å»º**ï¼š
   - æ„å»ºReleaseç‰ˆæœ¬çš„APKï¼ˆè€Œä¸æ˜¯Debugç‰ˆæœ¬ï¼‰
   - ä½¿ç”¨ `./gradlew assembleRelease` å‘½ä»¤

4. **è‡ªåŠ¨åŒ–Releaseæµç¨‹**ï¼š
   - è‡ªåŠ¨æå–tagåç§°
   - åˆ›å»ºGitHub Releaseé¡µé¢
   - ä¸Šä¼ APKæ–‡ä»¶åˆ°Releaseä¸­
   - APKæ–‡ä»¶å‘½åä¸ºï¼š`android-proxy-toggle-v1.0.0.apk`

### ğŸ“ Releaseæè¿°æ¨¡æ¿ï¼š

Releaseé¡µé¢ä¼šåŒ…å«ï¼š
- ğŸš€ åº”ç”¨åç§°å’Œç‰ˆæœ¬å·
- ğŸ“± ä¸‹è½½è¯´æ˜
- ğŸ”„ æ›´æ–°å†…å®¹æç¤º
- ğŸ“ åº”ç”¨ç®€ä»‹

### ğŸš€ å¦‚ä½•ä½¿ç”¨ï¼š

1. **åˆ›å»ºæ–°çš„Release**ï¼š
   ```bash
   # åˆ›å»ºå¹¶æ¨é€tag
   git tag v1.0.0
   git push origin v1.0.0
   ```

2. **ç‰ˆæœ¬å‘½åå»ºè®®**ï¼š
   - `v1.0.0` - æ­£å¼ç‰ˆæœ¬
   - `v1.0.0-beta` - æµ‹è¯•ç‰ˆæœ¬
   - `v1.0.0-alpha` - å†…æµ‹ç‰ˆæœ¬

3. **è‡ªåŠ¨åŒ–æµç¨‹**ï¼š
   - æ¨é€tag â†’ è§¦å‘workflow
   - è¿è¡Œæµ‹è¯• â†’ æ„å»ºRelease APK
   - åˆ›å»ºGitHub Release â†’ ä¸Šä¼ APK

### âš¡ å·¥ä½œæµç¨‹ï¼š

```
Tagæ¨é€ â†’ è¿è¡Œæµ‹è¯• â†’ æ„å»ºRelease APK â†’ åˆ›å»ºRelease â†’ ä¸Šä¼ APK
```

ç°åœ¨ä½ åªéœ€è¦åˆ›å»ºå¹¶æ¨é€ä¸€ä¸ªä»¥ `v` å¼€å¤´çš„tagï¼ŒGitHub Actionså°±ä¼šè‡ªåŠ¨ä¸ºä½ åˆ›å»ºReleaseå¹¶ä¸Šä¼ APKæ–‡ä»¶ï¼

---

_**User**_

Operating System
Runner Image
Runner Image Provisioner
GITHUB_TOKEN Permissions
Secret source: Actions
Prepare workflow directory
Prepare all required actions
Getting action download info
Error: This request has been automatically failed because it uses a deprecated version of `actions/upload-artifact: v3`. Learn more: https://github.blog/changelog/2024-04-16-deprecation-notice-v3-of-the-artifact-actions/  

---

_**Assistant**_



---

æˆ‘çœ‹åˆ°é”™è¯¯ä¿¡æ¯æ˜¾ç¤º `actions/upload-artifact: v3` å·²è¢«å¼ƒç”¨ã€‚è®©æˆ‘æŸ¥çœ‹å¹¶æ›´æ–°workflowä¸­æ‰€æœ‰è¿‡æ—¶çš„GitHub Actionsç‰ˆæœ¬ã€‚

---



---

ç°åœ¨æˆ‘éœ€è¦æ£€æŸ¥å¹¶æ›´æ–°å…¶ä»–å¯èƒ½è¿‡æ—¶çš„Actionsã€‚`actions/create-release` å’Œ `actions/upload-release-asset` ä¹Ÿæ˜¯æ¯”è¾ƒè€çš„Actionsï¼Œæˆ‘åº”è¯¥ç”¨æ›´ç°ä»£çš„æ›¿ä»£æ–¹æ¡ˆï¼š

---



---

ç°åœ¨è®©æˆ‘æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦è¿˜æœ‰å…¶ä»–éœ€è¦æ›´æ–°çš„Actionsç‰ˆæœ¬ï¼š

---

<details>
            <summary>Grep search for "uses: actions/" â€¢ **2** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L16 | `uses: actions/checkout@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L19 | `uses: actions/setup-java@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L28 | `uses: actions/cache@v3` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L48 | `uses: actions/upload-artifact@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L69 | `uses: actions/checkout@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L72 | `uses: actions/setup-java@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L81 | `uses: actions/cache@v3` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L16 | `uses: actions/checkout@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L19 | `uses: actions/setup-java@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L28 | `uses: actions/cache@v3` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L48 | `uses: actions/upload-artifact@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L69 | `uses: actions/checkout@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L72 | `uses: actions/setup-java@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L81 | `uses: actions/cache@v3` |

</details>

---

æˆ‘çœ‹åˆ°è¿˜æœ‰ `actions/cache@v3` ä¹Ÿåº”è¯¥æ›´æ–°åˆ° v4ã€‚è®©æˆ‘æ›´æ–°è¿™äº›ï¼š

---



---

æˆ‘éœ€è¦åˆ†åˆ«æ›´æ–°ä¸¤ä¸ªcache actionçš„ä½ç½®ï¼š

---

Read file: .github/workflows/android.yml

---



---

ç°åœ¨æˆ‘è¦åˆ†åˆ«æ›´æ–°ä¸¤ä¸ªåœ°æ–¹çš„cache actionã€‚é¦–å…ˆæ›´æ–°ç¬¬ä¸€ä¸ªï¼š

---



---

ç°åœ¨æ›´æ–°ç¬¬äºŒä¸ªcache actionï¼š

---



---



---

ç°åœ¨è®©æˆ‘éªŒè¯ä¸€ä¸‹æ‰€æœ‰çš„Actionséƒ½å·²ç»æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ï¼š

---

<details>
            <summary>Grep search for "uses: actions/" â€¢ **2** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L16 | `uses: actions/checkout@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L19 | `uses: actions/setup-java@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L28 | `uses: actions/cache@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L48 | `uses: actions/upload-artifact@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L69 | `uses: actions/checkout@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L72 | `uses: actions/setup-java@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L81 | `uses: actions/cache@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L16 | `uses: actions/checkout@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L19 | `uses: actions/setup-java@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L28 | `uses: actions/cache@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L48 | `uses: actions/upload-artifact@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L69 | `uses: actions/checkout@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L72 | `uses: actions/setup-java@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L81 | `uses: actions/cache@v4` |

</details>

---



---

å®Œç¾ï¼ç°åœ¨è®©æˆ‘ä»¬ç¡®è®¤ä¸€ä¸‹æ‰€æœ‰çš„Actionsç‰ˆæœ¬ï¼š

---

<details>
            <summary>Grep search for "uses: .*@" â€¢ **2** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L16 | `uses: actions/checkout@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L19 | `uses: actions/setup-java@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L28 | `uses: actions/cache@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L48 | `uses: actions/upload-artifact@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L55 | `#   uses: codecov/codecov-action@v3` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L69 | `uses: actions/checkout@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L72 | `uses: actions/setup-java@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L81 | `uses: actions/cache@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L98 | `uses: softprops/action-gh-release@v2` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L16 | `uses: actions/checkout@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L19 | `uses: actions/setup-java@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L28 | `uses: actions/cache@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L48 | `uses: actions/upload-artifact@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L55 | `#   uses: codecov/codecov-action@v3` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L69 | `uses: actions/checkout@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L72 | `uses: actions/setup-java@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L81 | `uses: actions/cache@v4` |
| `vscode-remote://ssh-remote%2B159.75.90.20_61029/root/projects/java_projects/my-android-proxy-toggle/.github/workflows/android.yml` | L98 | `uses: softprops/action-gh-release@v2` |

</details>

---

## âœ… GitHub Actionsç‰ˆæœ¬æ›´æ–°å®Œæˆï¼

æˆ‘å·²ç»æˆåŠŸè§£å†³äº†å¼ƒç”¨è­¦å‘Šé—®é¢˜ï¼Œå¹¶å°†æ‰€æœ‰Actionsæ›´æ–°åˆ°æœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼š

### ğŸ”„ æ›´æ–°å†…å®¹æ€»ç»“ï¼š

1. **`actions/upload-artifact`**ï¼š`v3` â†’ `v4`
2. **`actions/cache`**ï¼š`v3` â†’ `v4` (ä¸¤ä¸ªä½ç½®éƒ½å·²æ›´æ–°)
3. **Release Actionsç°ä»£åŒ–**ï¼š
   - ç§»é™¤äº†è¿‡æ—¶çš„ `actions/create-release@v1`
   - ç§»é™¤äº†è¿‡æ—¶çš„ `actions/upload-release-asset@v1`
   - ä½¿ç”¨ç°ä»£çš„ `softprops/action-gh-release@v2`

### ğŸ¯ æ”¹è¿›çš„ä¼˜ç‚¹ï¼š

1. **è§£å†³å¼ƒç”¨è­¦å‘Š**ï¼š
   - ä¸å†æœ‰GitHubçš„å¼ƒç”¨é€šçŸ¥
   - ä½¿ç”¨æœ€æ–°ç¨³å®šç‰ˆæœ¬çš„

---

_**User**_

ä¸Šä¼ çš„æ–‡ä»¶åè¯·ä½¿ç”¨é¡¹ç›®åç§°.apk

---

_**Assistant**_



---

æˆ‘æ¥å¸®ä½ ä¿®æ”¹APKæ–‡ä»¶çš„ä¸Šä¼ åç§°ã€‚è®©æˆ‘å…ˆæŸ¥çœ‹ä¸€ä¸‹é¡¹ç›®çš„åç§°ï¼Œç„¶åæ›´æ–°workflowé…ç½®ã€‚

---

Read file: settings.gradle.kts

---

æˆ‘çœ‹åˆ°é¡¹ç›®åç§°æ˜¯ "ProxyToggle"ã€‚ç°åœ¨è®©æˆ‘ä¿®æ”¹workflowæ–‡ä»¶ï¼Œä½¿ä¸Šä¼ çš„APKæ–‡ä»¶ä½¿ç”¨é¡¹ç›®åç§°ï¼š

---



---

å®Œç¾ï¼æˆ‘å·²ç»æˆåŠŸä¿®æ”¹äº†workflowï¼Œç°åœ¨ä¸Šä¼ çš„APKæ–‡ä»¶å°†ä½¿ç”¨é¡¹ç›®åç§° `ProxyToggle.apk`ã€‚

## âœ… APKæ–‡ä»¶åä¿®æ”¹å®Œæˆï¼

### ğŸ”„ ä¿®æ”¹å†…å®¹ï¼š

1. **æ·»åŠ äº†APKé‡å‘½åæ­¥éª¤**ï¼š
   - åœ¨åˆ›å»ºReleaseä¹‹å‰ï¼Œå°† `app-release.apk` å¤åˆ¶å¹¶é‡å‘½åä¸º `ProxyToggle.apk`

2. **æ›´æ–°äº†ä¸Šä¼ æ–‡ä»¶é…ç½®**ï¼š
   - åŸæ¥ï¼š`app/build/outputs/apk/release/app-release.apk`
   - ç°åœ¨ï¼š`ProxyToggle.apk`

### ğŸ“± ç”¨æˆ·ä½“éªŒæå‡ï¼š

- ç”¨æˆ·ä¸‹è½½æ—¶ä¼šçœ‹åˆ°æ¸…æ™°çš„æ–‡ä»¶åï¼š`ProxyToggle.apk`
- æ–‡ä»¶åä¸é¡¹ç›®åç§°ä¿æŒä¸€è‡´ï¼Œæ›´åŠ ä¸“ä¸š
- ä¾¿äºç”¨æˆ·è¯†åˆ«å’Œç®¡ç†ä¸‹è½½çš„APKæ–‡ä»¶

ç°åœ¨å½“ä½ æ¨é€ä¸€ä¸ªvå¼€å¤´çš„tagæ—¶ï¼ŒGitHub Releaseä¸­çš„APKæ–‡ä»¶å°†ä»¥ `ProxyToggle.apk` çš„åç§°ä¾›ç”¨æˆ·ä¸‹è½½ï¼

---

